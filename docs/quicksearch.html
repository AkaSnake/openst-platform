<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Simple Token Foundation Modules tools/stake_and_mint/for_branded_tokentools/stake_and_mint/for_st_primetools/stake_and_mint/util Modules × Search results Close @simpletokenfoundation "},"index.html":{"id":"index.html","title":"Index","body":" Simple Token Foundation Modules tools/stake_and_mint/for_branded_tokentools/stake_and_mint/for_st_primetools/stake_and_mint/util × Search results Close @simpletokenfoundation "},"module-tools_stake_and_mint_for_branded_token.html":{"id":"module-tools_stake_and_mint_for_branded_token.html","title":"Module: tools/stake_and_mint/for_branded_token","body":" Simple Token Foundation Modules tools/stake_and_mint/for_branded_tokentools/stake_and_mint/for_st_primetools/stake_and_mint/util Module: tools/stake_and_mint/for_branded_token This script does stake of simple token on the value chain and mint of branded token on the utility chain. Here staker account for ST and beneficiary account for branded token is assumed as member reserve address. Following are the steps which are performed in this script: Select the member company for which we want to do stake and mint. Ask amount to be staked in ST and the passphrase of the member reserve using prompts. Call stake and mint util for doing the actual transactions on contracts. ref: module:tools/stake_and_mint/util Methods &lt;inner&gt; askStakingAmount(bigNumBalance) Ask staking amount Parameters: Name Type Description bigNumBalance BigNumber Balance in Big Number Returns: Type Promise &lt;inner&gt; confirmMember(member) Confirm member Parameters: Name Type Description member Object Returns: Type Promise.&lt;Object&gt; &lt;inner&gt; describeChain(chainType, web3Provider) Describe chain Parameters: Name Type Description chainType String Chain type web3Provider Web3 web3 provider Returns: Type Promise.&lt;Number&gt; &lt;inner&gt; describeMember(member) Describe member Parameters: Name Type Description member Object member object &lt;inner&gt; getMemberSTBalance(member) Get member ST balance Parameters: Name Type Description member Object member whose ST balance is to be found Returns: Type Promise.&lt;Number&gt; &lt;inner&gt; getPassphrase(selectedMember) Get passphrase Parameters: Name Type Description selectedMember Object selected member object Returns: Type Promise.&lt;String&gt; &lt;inner&gt; listAllMembers() List all members &lt;inner&gt; toDisplayST(num) display value in ST Parameters: Name Type Description num Bignumber number of ST wei Returns: display value in ST Type String × Search results Close @simpletokenfoundation "},"module-tools_stake_and_mint_for_st_prime.html":{"id":"module-tools_stake_and_mint_for_st_prime.html","title":"Module: tools/stake_and_mint/for_st_prime","body":" Simple Token Foundation Modules tools/stake_and_mint/for_branded_tokentools/stake_and_mint/for_st_primetools/stake_and_mint/util Module: tools/stake_and_mint/for_st_prime This script does stake of simple token on the value chain and mint of simple token prime on the utility chain. Here staker account for ST and beneficiary account for simple token prime is utility chain owner. Following are the steps which are performed in this script: Call stake and mint util with required params for doing the actual transactions on contracts. ref: module:tools/stake_and_mint/util × Search results Close @simpletokenfoundation "},"module-tools_stake_and_mint_util.html":{"id":"module-tools_stake_and_mint_util.html","title":"Module: tools/stake_and_mint/util","body":" Simple Token Foundation Modules tools/stake_and_mint/for_branded_tokentools/stake_and_mint/for_st_primetools/stake_and_mint/util Module: tools/stake_and_mint/util This is utility for performing stake and mint. Stake and mint is called in two variations: For branded token: module:tools/stake_and_mint/for_branded_token For simple token prime: module:tools/stake_and_mint/for_st_prime This utility has common functionality which is required for both these variations. Following are the steps which are performed in here: Staker address approves openSTValue contract address for toStakeAmount. We first check the current allowance and go for approval only when the current allowance and toStakeAmount are different. Staker address calls stake method of openSTValue contract. In the transaction receipt, we asset for StakingIntentDeclared event. Wait for openSTUtility contract to give StakingIntentConfirmed event. Proceed to next step if _stakingIntentHash in the event matches the same got in StakingIntentDeclared. Staker address calls processStaking of openSTValue contract. Staker address calls processMinting of openSTUtility contract. Staker address calls claim of utilityTokenInterface contract. (require(&quot;tools/stake_and_mint/util&quot;))(stakerAddress, stakerPassphrase, beneficiary, toStakeAmount, utilityTokenInterfaceContract) perform stake and mint Parameters: Name Type Description stakerAddress String Address of the staker stakerPassphrase String Passphrase of staker address beneficiary String Address of the beneficiary toStakeAmount Number Amount to stake in ST utilityTokenInterfaceContract utilityTokenInterfaceKlass Contract interact class object for utility token interface contract Returns: Type Promise Methods &lt;inner&gt; checkAllowanceAndApproveIfNeeded(stakerAddress, passphrase, toStakeAmount) Check allowance and approve if needed Parameters: Name Type Description stakerAddress String Staker address passphrase String Staker address passphrase toStakeAmount Number to stake amount Returns: Type Promise &lt;inner&gt; describeChain(chainType, web3Provider) Describe chain Parameters: Name Type Description chainType String Chain type web3Provider Web3 web3 provider Returns: Type Promise.&lt;Number&gt; &lt;inner&gt; describeMember(member) Describe member Parameters: Name Type Description member Object member object &lt;inner&gt; getSTBalance(address) Get ST balance Parameters: Name Type Description address String Address to get the ST balance Returns: Type Promise.&lt;BigNumber&gt; &lt;inner&gt; listenToUtilityToken(stakingIntentHash) Listen to utility token contract Parameters: Name Type Description stakingIntentHash String Staking intent hash Returns: Type Promise &lt;inner&gt; toDisplayST(num) display value in ST Parameters: Name Type Description num Bignumber number of ST wei Returns: display value in ST Type String &lt;inner&gt; toWeiST(amount) convert amount to wei Parameters: Name Type Description amount Bignumber The amount in ST Returns: converted amount in wei. Type Bignumber × Search results Close @simpletokenfoundation "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
